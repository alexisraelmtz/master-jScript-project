// import Image from 'next/image'
import Head from 'next/head';
import styles from '../styles/Home.module.scss';

import Deck from "./../lib/main";
import Cards from "../components/deck/deck";


export default function Home({ title, game, hand, fullDeck }) {
  return (<>
    <body className={styles.home}>
      <Head>
        <title>myNext-App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div className={styles.cards}>
        <h1 className={styles.title}>{title}</h1>
        <p></p>
        <h3 className={styles.title}>Game</h3>
        <Cards title="game" cards={game} turned="2" />

        <h3 className={styles.title}>Hand</h3>
        <Cards title="hand" cards={hand} turned="2" />

        <h3 className={styles.title}>New Deck</h3>
        <Cards title="deck" cards={fullDeck} turned="0" />

      </div>
    </body>
  </>)
}


export async function getServerSideProps(context) {
  const deck = new Deck();
  const game = deck.fetchDeck(5);
  const hand = deck.fetchDeck(2);
  const deck2 = new Deck();
  const fullDeck = deck2.cards

  return {
    props: {
      title: 'jScript.Casino',
      game,
      hand,
      fullDeck
    }
  }
}